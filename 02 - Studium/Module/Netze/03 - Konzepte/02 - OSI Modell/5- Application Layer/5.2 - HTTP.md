---
type: konzept
modul: Netze
tags:
  - netze
  - application-layer
  - konzept
---
- **HTTP ist ein „Request → Response“ Protokoll** 
- **HTTP ist zustandslos (stateless)** 
	- Jeder **Request** enthält alle Informationen, die für die **Response** notwendig sind 
	- Die Semantik eines Requests ist unabhängig von vorherigen Requests; der Server speichert keinen Sitzungszustand
- Typischer Ablauf einer einfachen HTTP-Kommunikation: 
	- 1. Client (Browser wie Firefox, Chrome, Edge) stellt einen **Request** 
	- 2. Beispiel: eine HTML-Datei wird angefordert 
	- 3. Server (z. B. Apache HTTP Server oder nginx) antwortet mit einer **Response** 
	- 4. Beispiel: die angefragte HTML-Datei wird ausgeliefert 
	- 5. Der Client interpretiert die **Response** 
	- 6. Beispiel: Darstellung der Seite, Nachladen weiterer Ressourcen (Bilder, CSS, JS)

- Methode:
	- GET: Anfrage, um Daten beim Server abzurufen POST: Daten senden (bspw. Login) 
	- PUT, PATCH, DELETE: Weitere Methoden (v. a. bei REST-APIs)
- Statuscode:
	- 200 OK 
	- 301 Moved Permanently 
	- 401 Unauthorized 
	- 404 Not Found 
	- 500 Internal Server Error


## **HTTP/1.0**
- Non-Persistent
- Definiert in RFC 1945. 
- Einführung grundlegender Methoden: GET, POST, HEAD. 
- Einführung von HTTP-Headern (textbasierte Kodierung). 
- Drei-stellige Statuscodes für Antworten. 
- GET: idempotent und „sicher“ (nur lesend), POST: nicht idempotent und nicht sicher.


- Ziel: Reduziere die Daten, die der Client beim Server anfragen muss. Dadurch schnelleres Anzeigen der Website. 
- Viele Daten im Internet sind statisch, bspw. Logos, Texte, Bilder. 
- Implementierung in HTTP: 
	- Server können in der HTTP-Response mitschicken, wie lange Daten gültig sind. 
	- Clients können im HTTP-Request mitschicken, dass sie Daten schon haben und diese Version von Zeitpunkt X ist. - 
	- Der Server prüft beim Request, wann sich die Datei das letzte Mal verändert hat. 
		- Response: 304 (Not Modified), wenn die Daten beim Client noch aktuell sind. 
		- Response: 200 (OK) und die Daten, wenn die Daten beim Client veraltet sind.


## **Cookies**
- **HTTP ist zustandslos**. 
- Eine Vielzahl von Szenarien benötigt jedoch „Sessions“ (z. B. Online-Banking, Webshops). 
- Zu diesem Zweck wurden Cookies eingeführt. 
- Idee: Server gibt dem Client einen Cookie.
	- Client-Requests enthalten diesen Cookie. 
	- Server kann die Sitzung bzw. den Client identifizieren.
- Obwohl Cookies nur an den Server gesendet werden, von dem diese stammen, kann man Nutzende mit Cookies tracken/nachverfolgen. 
- Szenario: Eine Website bindet andere Websites ein (bspw. Werbung, „Like Buttons“, Bilder, Schriftarten, Scripte, …) 
- Die eingebundene Seite bekommt ihre Cookies, kann feststellen, wo sie eingebunden ist (Referrer), und so den Nutzer tracken.

## **HTTP/1.1** (RFC 2616, 1999)
### **Wichtige Neuerungen**
- **Persistente Verbindungen**: Standard (`Connection: keep-alive`)
- **Host-Header**: Ermöglicht virtuelle Server (mehrere Domains auf einer IP)
- **Caching-System**: `Cache-Control`, `ETag`, `If-Modified-Since`
- **Pipelining**: Mehrere Requests ohne Antwort abwarten (aber **Head-of-Line Blocking**)
- **Neue Methoden**: PUT, DELETE, OPTIONS, TRACE, CONNECT
- **Chunked Transfer Encoding**: Streamen großer Inhalte
### **Probleme von HTTP/1.1**
- **HoL-Blocking**: Langsame Antwort blockiert alle folgenden
- **Text-Header**: Ineffizient, wiederholte Übertragung gleicher Heade
- **Viele TCP-Verbindungen**: Browser öffnen 6-8 parallele Verbindungen