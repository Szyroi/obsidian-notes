## **DHCPv4**
- **DHCP (Dynamic Host Configuration Protocol)** ist ein Client-Server Protokoll zur automatischen Netzwerkkonfiguration
- DHCP nutzt UDP-Port 67/68 und arbeitet auf der Anwendungsschicht.
- Ein DHCP-Server liefert auf Anfrage mindestens folgende Konfigurationsparameter: 
	- IP-Adresse, Subnetzmaske (Option 1) 
	- Lease Time (Option 51) 
	- DHCP-Server-Identifier (Option 54) 
	- Standard-Gateway-Adresse (Option 3)
- **Stateful**: Zentrale Adressverwaltung durch Server
### **Ablauf DORA**
- **DHCPDISCOVER:** Wird als Broadcast (`255.255.255.255`) mit der Absenderadresse `0.0.0.0` gesendet, um verfügbare DHCP-Server zu finden. 
- **DHCPOFFER:** Enthält die vorgeschlagene IP-Adresse, Lease Time, Subnetzmaske und die Adresse des anbietenden DHCP-Servers. 
- **DHCPREQUEST:** Der Client wählt eines der Angebote aus und fordert diese Adresse (und ggf. weitere Parameter) vom DHCP-Server an. 
- **DHCPACK:** Der Server bestätigt die Zuweisung – der Client kann die Adresse nun verwenden.
## **DHCPv6**
- **DHCPv6** (RFC 8415) ist das IPv6-Pendant zu DHCPv4, arbeitet aber **ohne Broadcasts.** 
- Kommunikation erfolgt über die **Multicast-Adresse** `FF02::1:2`. 
- Verwendet die UDP-Ports **546** (**Client**) und **547** (**Server**). 
- Kann Adressen (**stateful**) oder nur Zusatzinformationen (**stateless**) bereitstellen.
- **Wichtiger Unterschied zu DHCPv4** 
	- Der Standard-Router wird nicht über DHCPv6, sondern über **Router Advertisements** (Neighbor Discovery, RFC 4861) bekanntgegeben.
### **Ablauf**
- Der **DHCPv6-Client** erfährt über ein **Router Advertisement (RA)**, ob DHCPv6 Adressen (M-Bit) oder Zusatzinfos (O-Bit) liefern soll. 
- Anschließend sendet er eine **Solicit**-Nachricht an `ff02::1:2`, um verfügbare Server zu finden. 
- Server antwortet mit **Advertise** und bietet Konfigurationen an. 
- Der Client sendet **Request**, um ein Angebot auszuwählen. 
- Der Server bestätigt mit **Reply** und übermittelt die finalen Parameter (z. B. IPv6-Adresse, DNS, NTP). 
- Spätere Nachrichten wie **Renew** oder **Rebind** dienen der Verlängerung der Zuweisung.