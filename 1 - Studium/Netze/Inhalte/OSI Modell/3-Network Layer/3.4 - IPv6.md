## **Links**
- https://de.wikipedia.org/wiki/IPv6

## **Aufbau IPv6**

128 bit Addressen dargestellt in je 8 Gruppen in 16 Bits, getrennt durch Doppelpunkte (:)

- Kürtungsregeln:
	- Führenden Nullen dürfen ausgelassen werden.
	- Eine folge an 0-blöcken wird weggelassen, als `::` geschrieben
	- `::` darf pro Adresse nur einmal verwendet werden.

Addresse-Präfixe werden durch `addresse/n` gekennzeichnet.
Erste `n` bits der Addresse sind nicht änderbar (Routingpräfix + Subnet-ID)

## Addresstypen

| Typ       | Kommunikation     | Beispiel/Hinweis                             |
| --------- | ----------------- | -------------------------------------------- |
| Unicast   | 1 -> 1            | 200:db8::1 (ein Host)                        |
| Multicast | 1 -> n            | ff02::1 (alle Knoten), ff02::2 (alle Router) |
| Anycast   | 1 -> 1 (nächstes) | 2001:db8::1:1 (z. B. DNS-Server-Cluster)     |
| Broadcast | entfällt          | durch Multicast ersetzt                      |



###****

Alle globalen Unicast-Addressen, die nicht mit `000` beginnen, haben eine Schnittstellen-ID mit der Länge `64` bit

Client generiert eindeutige Schnittstellen-ID selber -> Automatische Selbstkonfiguration (ohne DHCP) möglich
Schnittstellen-ID kann aus MAC-Addresse abgeleitet werden (48 bit -> 64 bit):
- FF:FE in der mitte hinzugefügt
- Vorletzter bit des ersten byte:
	- 0 -> weltweit eindeutige addresse
	- 1 -> lokal gültige addresse


### **Link Lokale Unicast:**
- Verbindungslokal / Link Local
	- Beginnen mit `FE80`
	- Immer automatisch generiert
	- z.B. für lokale Nachbarerkennung
	- Nur für lokale Verbindung
- Standortlokal / Site Local
	- Beginnen mit `FEC0`
	- Veraltet, nicht mehr Verwendet
	- Intranet, Entsprachen Privaten IPv4 Addressen
- Standortlokal / Unique Local
	- Beginnen mit `FC`
	- Intranet, Entsprechen Privaten IPv4 Addressen
	- 40 bit zufällige Site-ID um Standort zu kennzeichnen(!)
	- 16 bit Subnet-ID

Spezielle Addressen:
- Nicht Spezifizierte Addresse
	- 0:0:...:0 (aka `::`)
	- Praktisch Null-Addresse
- Loopback
	- `::1`
	- Niemals Routed
- Multicast
	- Beginnen `FF`
	- 4 bit flag, 4 bit scope
		- Info über Geltungsbereich/Aufbau
	- 112 bit Group-ID

##### Header
Basisheader mit fester länge (40 byte), der nur wichtigste/notwendige Daten enthält.
Optionen-Header sind Verkettet ("Next" gibt an welcher Type als nächstes kommt).

- Version = 6
- Payload length = max 64KiB
- Next:
	- Welcher (Option-)Header kommt als Nächstes
	- z.B. Routing/Fragmenting/Auth/Encryption; Tcp/Udp/None
	- Option-Header haben dann wieder ein Next-Field, welches angibt welcher als nächstes kommt
	- Es gibt eine korrekte reihenfolge
